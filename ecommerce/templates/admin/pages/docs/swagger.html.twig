{% extends 'admin/base.html.twig' %}

{% block title %}API Documentation - Ecommerce API V1{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5/swagger-ui.css">
    <style>
        .swagger-container {
            background: var(--secondary-color);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .swagger-ui .topbar {
            display: none;
        }
        .swagger-ui .info {
            margin: 20px 0;
        }
        .swagger-ui .scheme-container {
            background: #d5d0c1;
            padding: 15px;
            border-radius: 4px;
        }
    </style>
{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <h1>API Documentation</h1>
        <p>Ecommerce API V1 - OpenAPI Specification</p>
    </div>

    <div class="card swagger-container">
        <div id="swagger-ui"></div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
    <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <script>
        window.onload = function() {
            SwaggerUIBundle({
                url: "{{ path('admin.docs.openapi_json') }}",
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIBundle.SwaggerUIStandalonePreset
                ],
                layout: "BaseLayout",
                defaultModelsExpandDepth: 0,
                defaultModelExpandDepth: 1,
                docExpansion: "list",
                filter: true,
                showExtensions: true,
                showCommonExtensions: true,

            });
        };
    </script>
{% endblock %}

